{"ast":null,"code":"import _classCallCheck from \"/Users/amelramirez/Desktop/DEV/q.kit/q.kit/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/amelramirez/Desktop/DEV/q.kit/q.kit/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/amelramirez/Desktop/DEV/q.kit/q.kit/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/amelramirez/Desktop/DEV/q.kit/q.kit/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/amelramirez/Desktop/DEV/q.kit/q.kit/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/amelramirez/Desktop/DEV/q.kit/q.kit/src/components/dashboard/Recipe.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, Button } from \"reactstrap\"; // const app_id_food = \"bbb5c7fb\";\n// const app_key_food = \"80fc122cf42c8abc679fd9ca0ee2b2f1\";\n\nvar app_id_recipe = \"8c39fcd6\";\nvar app_key_recipe = \"c4ffd4c73a39467ad2c7c9f331004ffd\"; // const DEFAULT_QUERY = \"redux\";\n\nvar Recipe =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Recipe, _Component);\n\n  function Recipe(props) {\n    var _this;\n\n    _classCallCheck(this, Recipe);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Recipe).call(this, props));\n    _this.state = {\n      hits: [],\n      ingredients: _this.props.ingredients,\n      recipe: []\n    };\n    return _this;\n  }\n\n  _createClass(Recipe, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log(\"tell me state tell state\", this.state.ingredients);\n      var query = [];\n\n      for (var i = 0; i < this.state.ingredients.length; i++) {\n        if (this.state.ingredients[i].checked) {\n          query.push(this.state.ingredients[i].name);\n        }\n      }\n\n      var queryString = query.join(\"+\");\n      axios.get(\"https://api.edamam.com/search?q=\".concat(queryString, \"&app_id=\").concat(app_id_recipe, \"&app_key=\").concat(app_key_recipe)).then(function (response) {\n        console.log(\"this is the data\", response); //this.setState({ hits: response.data.hits });\n\n        console.log(\"what is this?:\", _this2.state.hits);\n        var recipeList = response.data.hits;\n        var ingredientsStock = query;\n        var filteredList = recipeList.filter(function (recipe) {\n          var ingredientLines = recipe.recipe.ingredientLines;\n\n          for (var _i = 0; _i < ingredientLines.length; _i++) {\n            for (var j = 0; j < ingredientsStock.length; j++) {\n              if (ingredientLines[_i].indexOf(ingredientsStock[j]) !== -1) {\n                break;\n              }\n\n              if (j === ingredientsStock.length - 1) return false;\n            }\n          }\n\n          return true;\n        });\n        console.log(\"fitler:\", filteredList);\n\n        _this2.setState({\n          recipe: filteredList\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // const { hits } = this.state;\n      var recipes = this.state.recipe.map(function (hit) {\n        return React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(CardImg, {\n          top: true,\n          width: \"50%\",\n          src: hit.recipe.image,\n          alt: \"recipe\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }), React.createElement(CardBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          key: hit.recipe.label,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: hit.recipe.url,\n          target: \"_blank\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(CardTitle, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, hit.recipe.label)))));\n      });\n      return React.createElement(\"ul\", {\n        className: \"receta\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, recipes);\n    }\n  }]);\n\n  return Recipe;\n}(Component);\n\nexport default Recipe;","map":{"version":3,"sources":["/Users/amelramirez/Desktop/DEV/q.kit/q.kit/src/components/dashboard/Recipe.js"],"names":["React","Component","axios","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","Button","app_id_recipe","app_key_recipe","Recipe","props","state","hits","ingredients","recipe","console","log","query","i","length","checked","push","name","queryString","join","get","then","response","recipeList","data","ingredientsStock","filteredList","filter","ingredientLines","j","indexOf","setState","catch","error","recipes","map","hit","image","label","url"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport {\n  Card,\n  CardImg,\n  CardText,\n  CardBody,\n  CardTitle,\n  CardSubtitle,\n  Button\n} from \"reactstrap\";\n\n// const app_id_food = \"bbb5c7fb\";\n// const app_key_food = \"80fc122cf42c8abc679fd9ca0ee2b2f1\";\n\nconst app_id_recipe = \"8c39fcd6\";\nconst app_key_recipe = \"c4ffd4c73a39467ad2c7c9f331004ffd\";\n// const DEFAULT_QUERY = \"redux\";\n\nclass Recipe extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hits: [],\n      ingredients: this.props.ingredients,\n      recipe: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"tell me state tell state\", this.state.ingredients);\n\n    let query = [];\n    for (let i = 0; i < this.state.ingredients.length; i++) {\n      if (this.state.ingredients[i].checked) {\n        query.push(this.state.ingredients[i].name);\n      }\n    }\n\n    let queryString = query.join(\"+\");\n\n    axios\n      .get(\n        `https://api.edamam.com/search?q=${queryString}&app_id=${app_id_recipe}&app_key=${app_key_recipe}`\n      )\n      .then(response => {\n        console.log(\"this is the data\", response);\n        //this.setState({ hits: response.data.hits });\n        console.log(\"what is this?:\", this.state.hits);\n        let recipeList = response.data.hits;\n        var ingredientsStock = query;\n        let filteredList = recipeList.filter(recipe => {\n          let ingredientLines = recipe.recipe.ingredientLines;\n          for (let i = 0; i < ingredientLines.length; i++) {\n            for (let j = 0; j < ingredientsStock.length; j++) {\n              if (ingredientLines[i].indexOf(ingredientsStock[j]) !== -1) {\n                break;\n              }\n              if (j === ingredientsStock.length - 1) return false;\n            }\n          }\n          return true;\n        });\n\n        console.log(\"fitler:\", filteredList);\n        this.setState({ recipe: filteredList });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  render() {\n    // const { hits } = this.state;\n    var recipes = this.state.recipe.map(hit => (\n      <Card>\n        <CardImg top width=\"50%\" src={hit.recipe.image} alt=\"recipe\" />\n        <CardBody>\n          <li key={hit.recipe.label}>\n            <a href={hit.recipe.url} target=\"_blank\">\n              <CardTitle>{hit.recipe.label}</CardTitle>\n            </a>\n          </li>\n          {/* <CardSubtitle>Card subtitle</CardSubtitle>\n          <CardText>Some quick example text to build on the card title and make up the bulk of the card's content.</CardText> */}\n        </CardBody>\n      </Card>\n    ));\n    return <ul className=\"receta\">{recipes}</ul>;\n  }\n}\n\nexport default Recipe;\n"]},"metadata":{},"sourceType":"module"}